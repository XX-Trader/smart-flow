# 测试进度跟踪 (Test Progress Tracking)

> **更新时间**: 2026-01-21
> **覆盖率目标**: 核心模块 95% | 通用模块 80%
> **项目类型**: 量化交易系统

---

## 📊 整体覆盖率概览

| 模块类型 | 当前覆盖率 | 目标覆盖率 | 状态 |
|---------|-----------|-----------|------|
| 核心模块 (Tier 1) | -- % | 95% | ⏳ 待测 |
| 通用模块 (Tier 2) | -- % | 80% | ⏳ 待测 |
| **整体项目** | -- % | 90% | ⏳ 待测 |

---

## 🎯 核心模块 (Tier 1) - 目标: 95%

> **定义**: 包含策略执行、风险控制、API接口等核心业务逻辑

### 策略执行 (Strategy Execution)

| 功能 | 测试状态 | 覆盖率 | 测试文件 | 备注 |
|------|---------|--------|---------|------|
| 订单下单接口 | ❌ 未测试 | -- | - | 涵盖市价/限价单 |
| 订单撤单逻辑 | ❌ 未测试 | -- | - | 需处理网络延迟 |
| 订单状态查询 | ❌ 未测试 | -- | - | - |
| 策略信号触发 | ❌ 未测试 | -- | - | - |

**当前模块覆盖率**: -- %

### 风险控制 (Risk Control)

| 功能 | 测试状态 | 覆盖率 | 测试文件 | 备注 |
|------|---------|--------|---------|------|
| 止损逻辑触发 | ❌ 未测试 | -- | - | 边界条件覆盖 |
| 持仓限额检查 | ❌ 未测试 | -- | - | - |
| 极端行情处理 | ❌ 未测试 | -- | - | 需构造模拟数据 |
| 风险敞口计算 | ❌ 未测试 | -- | - | - |

**当前模块覆盖率**: -- %

### API 接口 (API Layer)

| 功能 | 测试状态 | 覆盖率 | 测试文件 | 备注 |
|------|---------|--------|---------|------|
| 用户认证 | ❌ 未测试 | -- | - | JWT/OAuth |
| 订单管理 | ❌ 未测试 | -- | - | CRUD操作 |
| 行情数据接口 | ❌ 未测试 | -- | - | WebSocket |

**当前模块覆盖率**: -- %

---

## 🔧 通用模块 (Tier 2) - 目标: 80%

> **定义**: 工具函数、基础设施、数据处理等辅助模块

### 数据处理 (Data Processing)

| 功能 | 测试状态 | 覆盖率 | 测试文件 | 备注 |
|------|---------|--------|---------|------|
| K线数据清洗 | ❌ 未测试 | -- | - | 需处理空值 |
| 数据格式转换 | ❌ 未测试 | -- | - | - |
| 数据聚合计算 | ❌ 未测试 | -- | - | - |

**当前模块覆盖率**: -- %

### 基础设施 (Infrastructure)

| 功能 | 测试状态 | 覆盖率 | 测试文件 | 备注 |
|------|---------|--------|---------|------|
| 数据库连接 | ❌ 未测试 | -- | - | 连接池测试 |
| 日志系统 | ❌ 未测试 | -- | - | - |
| 缓存管理 | ❌ 未测试 | -- | - | Redis/Memory |

**当前模块覆盖率**: -- %

### 工具函数 (Utilities)

| 功能 | 测试状态 | 覆盖率 | 测试文件 | 备注 |
|------|---------|--------|---------|------|
| 日期处理 | ❌ 未测试 | -- | - | 时区转换 |
| 数值计算 | ❌ 未测试 | -- | - | 精度处理 |
| 字符串处理 | ❌ 未测试 | -- | - | - |

**当前模块覆盖率**: -- %

---

## 🚨 待修复问题

| 优先级 | 问题描述 | 影响模块 | 负责人 | 截止日期 | 状态 |
|-------|---------|---------|--------|---------|------|
| P0 | 核心模块无测试覆盖 | 全部 | - | - | ⏳ |
| P1 | 缺少Mock数据构造 | 风险控制 | - | - | ⏳ |

---

## 📝 更新日志

### 2026-01-21
- ✅ 创建测试进度跟踪文档模板
- ⏳ 待填充实际项目模块

---

## 🔍 使用说明

### 状态图例
- ✅ = 已完成测试并通过
- ⏳ = 部分完成或进行中
- ❌ = 未测试或测试失败
- -- = 待测量

### 更新流程

**每次功能完成后**:
```bash
# 1. 运行覆盖率测试
npm run test:cov
# 或
pytest --cov=src --cov-report=term-missing

# 2. 更新本文件
# - 填写实际覆盖率百分比
# - 更新测试状态 (✅/⏳/❌)
# - 填写测试文件路径
# - 添加备注信息

# 3. 检查是否达标
# - 核心模块 ≥ 95%
# - 通用模块 ≥ 80%
```

**任务完成前必须**:
- [ ] 所有核心模块覆盖率 ≥ 95%
- [ ] 所有通用模块覆盖率 ≥ 80%
- [ ] 更新"整体覆盖率概览"表格
- [ ] 记录待修复问题到"待修复问题"表格

### AI 自动更新

当 AI 完成功能开发时，自动执行:
```bash
# 生成覆盖率报告
npm run test:cov > coverage_latest.txt

# 解析覆盖率并更新本文件
# (AI 手动执行或通过脚本自动化)
```

---

**维护说明**:
1. 本文件由 AI 在每次功能完成后自动更新
2. 每周进行一次人工审查，确保准确性
3. 当添加新模块时，及时更新表格结构
4. 覆盖率不达标的模块不能合并到主分支

---

**文档版本**: v1.0
**最后更新**: 2026-01-21
**下次审查**: 2026-01-28
