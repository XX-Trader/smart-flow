---
name: feature-development
description: Django + Vue 全栈功能开发标准化流程。支持需求分析、技术方案设计、API设计、数据库设计、UI原型设计的完整开发流程。根据功能复杂度自动选择开发流程：简单功能（直接实施）、中等功能（2个表及以上/前后端联动）、复杂功能（技术可行性评估）。
license: MIT
---

# Django + Vue 功能开发标准化流程

## 🎯 技能特性

- ✅ 三级流程自动选择：简单/中等/复杂
- ✅ 标准化文档模板：需求/API/数据库/UI
- ✅ 前端先行：测试数据驱动UI验证
- ✅ 技术可行性评估：复杂功能必经环节
- ✅ 变更影响分析：已有功能新增的精准定位

## 📋 功能复杂度判定标准

| 复杂度 | 判定标准 | 流程 |
|--------|----------|------|
| **简单** | 单表操作、纯UI调整、单个接口 | 直接实施 |
| **中等** | 2个表及以上、前后端联动、多个接口 | 需求→技术方案→数据模型→API→UI |
| **复杂** | 涉及架构调整、新技术引入、性能敏感 | 需求→技术评估→数据模型→API→UI |

---

## 🚀 快速开始

### 步骤1：输入需求

用户只需要描述需求，我会自动判断复杂度并选择流程。

**示例输入**：
- "加一个用户导出功能" → 自动识别为简单
- "做一个交易员分组管理，支持批量操作" → 自动识别为中等
- "重构整个权限系统，支持RBAC" → 自动识别为复杂

### 步骤2：等待文档确认

根据复杂度生成对应文档：
- **简单**：直接改代码
- **中等**：需求文档 → 技术方案 → 数据模型 → API文档 → UI原型
- **复杂**：需求文档 → 技术评估报告 → 数据模型 → API文档 → UI原型

### 步骤3：确认后实施

文档确认后，立即开始编码实现。

---

## 📁 技能文件结构

```
feature-development/
├── SKILL.md                           # 本文件
├── templates/                          # 文档模板
│   ├── requirement-doc.md             # 需求文档模板（中等/复杂）
│   ├── technical-assessment.md        # 技术评估模板（仅复杂）
│   ├── simple-technical-solution.md   # 简单技术方案模板（中等）
│   ├── database-design.md             # 数据库设计模板
│   ├── api-design.md                  # API设计模板
│   └── ui-mockup.md                   # UI原型模板
└── workflows/                         # 流程说明
    ├── simple-feature.md              # 简单功能流程
    ├── medium-feature.md              # 中等功能流程
    └── complex-feature.md             # 复杂功能流程
```

---

## 📖 文档模板规范

### 需求文档（中等/复杂）

**必须包含**：
- 功能概述（1-2句话）
- 用户角色和使用场景
- 详细功能点（列表形式）
- 业务规则和约束
- 边界情况处理
- **实现思路**（如何实现，但不写代码）

**不要包含**：
- 具体字段定义
- API接口路径
- 前端组件名称
- 任何代码片段

### 技术方案（中等）

**必须包含**：
- 推荐技术方案（一句话）
- 涉及的文件和模块
- 关键技术点
- 潜在风险和注意事项

**不要包含**：
- 详细的代码逻辑
- 具体的函数签名

### 技术评估（复杂）

**必须包含**：
- 可行性结论（可行/不可行/有条件可行）
- 技术难点分析
- 推荐的技术方案（2-3个选项）
- 各方案的对比（优缺点、工作量、风险）
- **推荐方案及理由**

### API文档（中等/复杂）

**必须包含**：
- 接口路径和方法
- 功能描述
- 请求参数（字段名、类型、必填、说明）
- 响应数据（字段名、类型、说明）
- 错误码说明
- 请求示例

### 数据库设计（中等/复杂）

**必须包含**：
- 表名和说明
- 字段列表（字段名、类型、约束、索引、说明）
- 关联关系（外键、一对一、一对多）
- 索引设计
- 数据迁移注意事项

### UI原型（中等/复杂）

**必须包含**：
- 页面布局（文字描述或ASCII图）
- 交互流程（用户操作步骤）
- 表单字段（字段名、类型、验证规则）
- 测试数据结构（按照API响应格式）
- 状态说明（加载态、错误态、空态）

---

## 🔄 已有功能新增流程

### 场景1：纯UI调整

```
需求 → 修改前端样式（测试数据） → 确认 → 完成
```

**适用**：改样式、调布局、加提示

### 场景2：涉及数据变更

```
需求 → 影响范围分析 → 修改前端UI（测试数据） → 确认
  → 修改API接口 → 修改数据库字段 → 联调测试
```

**关键**：
- 影响范围分析：定位需要修改的文件、接口、表
- 前端先行：用测试数据先验证UI效果
- 增量确认：每改一层确认一次

---

## 🎯 执行原则

### 1. 自动识别模式
根据用户输入自动判断复杂度，不需要用户指定。

### 2. 文档极简化
- 不写长篇大论，只写关键信息
- 表格、列表优于段落
- 一个文档不超过5分钟阅读时间

### 3. 等待确认机制
- 文档生成后，等待用户说"OK"或指出问题
- 不反复提问，直接给出推荐方案

### 4. 前端测试数据标准
```javascript
// 组件中使用测试数据的标准模式
const MOCK_DATA = {
  // 严格按照API响应结构设计
  userId: 123,
  userName: "测试用户",
  balance: 1000.50,
}

// 开发阶段用测试数据
const data = isDevelopment ? MOCK_DATA : await fetchAPI()
```

---

## 📝 完整流程示例

### 示例：交易员分组管理（中等复杂度）

#### 1. 需求文档
```
功能概述：支持将交易员分组管理，用户可以创建分组、添加交易员到分组、对分组进行批量操作。

详细功能点：
- 创建分组（名称、描述）
- 将交易员添加到分组（多选）
- 查看分组下的交易员列表
- 对分组进行批量启停
- 删除分组（需确认）

实现思路：
- 新增分组表，存储分组信息
- 新增关联表，存储交易员和分组的关系
- 前端使用表格展示，支持多选和批量操作
- 使用Element Plus的Transfer组件进行交易员选择
```

#### 2. 技术方案
```
推荐方案：新增分组表和关联表，使用Django ORM管理关联关系

涉及文件：
- models.py: PMTraderGroup, PMTraderGroupMember
- views.py: 分组CRUD接口
- urls.py: /api/pm-robot/trader-group/
- 前端: TraderGroupManage.vue

风险点：
- 删除分组时需要处理关联的交易员（级联删除 or 移到默认分组）
```

#### 3. 数据库设计
```
pm_trader_group (交易员分组表)
├── id (BigAutoField, PK)
├── user_id (BigInteger, FK→user.id)
├── group_name (CharField, 100)
├── description (TextField, null)
├── created_at (DateTimeField)
└── index: user_id

pm_trader_group_member (交易员分组关联表)
├── id (BigAutoField, PK)
├── group_id (BigInteger, FK→pm_trader_group.id)
├── trader_id (BigInteger)
├── joined_at (DateTimeField)
└── unique_together: (group_id, trader_id)
```

#### 4. API设计
```
POST /api/pm-robot/trader-group/create
请求：{
  "groupName": "高频交易组",
  "description": "高频策略交易员"
}
响应：{
  "code": 200,
  "data": { "groupId": 123 }
}
```

#### 5. UI原型
```
页面布局：
- 左侧：分组列表（卡片样式）
- 右侧：选中分组的交易员列表（表格）

交互流程：
1. 点击"新建分组"按钮 → 弹出对话框
2. 输入分组名称、描述 → 确认
3. 进入分组详情 → 点击"添加交易员"
4. 使用穿梭框选择交易员 → 确认

测试数据：
const MOCK_GROUPS = [
  { groupId: 1, groupName: "高频交易组", traderCount: 5 }
]
```

---

## 🔧 使用方法

### 在 Claude Code 中

```
"做一个交易员分组管理功能"
"加一个用户导出按钮"
"重构权限系统"
```

我会自动：
1. 识别复杂度
2. 生成对应文档
3. 等待确认
4. 实施开发

### 手动调用流程

```
"使用 feature-development 技能，做一个中等复杂度的功能"
"启动中等功能流程"
```

---

## 📚 相关资源

- [Django 官方文档](https://docs.djangoproject.com/)
- [Vue3 官方文档](https://vuejs.org/)
- [Element Plus 组件库](https://element-plus.org/)

---

**最后更新**: 2025-01-05
**版本**: v1.0.0
