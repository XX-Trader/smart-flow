# Auto-Fix ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

> **ç‰ˆæœ¬**: 1.0
> **æ—¥æœŸ**: 2026-01-05
> **ä½œè€…**: Claude
> **çŠ¶æ€**: è®¾è®¡é˜¶æ®µ

---

## 1. ç³»ç»Ÿæ¦‚è¿°

### 1.1 ç›®æ ‡

å°†ç°æœ‰çš„ `deployment-test` æŠ€èƒ½å‡çº§ä¸º**å…¨è‡ªåŠ¨æµ‹è¯•-ä¿®å¤å¾ªç¯ç³»ç»Ÿ**ï¼š

```
è¿è¡Œæµ‹è¯• â†’ åˆ†æé—®é¢˜ â†’ è‡ªåŠ¨ä¿®å¤ â†’ éªŒè¯ä¿®å¤ â†’ Gitæäº¤ â†’ é‡æ–°æµ‹è¯•
    â†‘                                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    ç›´åˆ°æ‰€æœ‰æµ‹è¯•é€šè¿‡
```

### 1.2 æ ¸å¿ƒç‰¹æ€§

- âœ… **æ™ºèƒ½é—®é¢˜åˆ†ç±»**: è‡ªåŠ¨è¯†åˆ«é—®é¢˜ç±»å‹ï¼ˆé…ç½®/ä»£ç /æ•°æ®åº“/å‰ç«¯ï¼‰
- âœ… **æ–‡æ¡£ä¼˜å…ˆä¿®å¤**: ä¼˜å…ˆå‚è€ƒ CLAUDE.mdã€INDEX.md ç­‰é¡¹ç›®æ–‡æ¡£
- âœ… **Git åˆ†æ”¯å®‰å…¨**: åœ¨ç‹¬ç«‹åˆ†æ”¯ä¿®å¤ï¼Œé¿å…å½±å“ä¸»åˆ†æ”¯
- âœ… **å¹³è¡¡ä¿®å¤ç­–ç•¥**: ç®€å•é—®é¢˜ç›´æ¥ä¿®ï¼Œä¸­ç­‰é—®é¢˜ç­‰ç¡®è®¤ï¼Œå¤æ‚é—®é¢˜æŠ¥bug
- âœ… **å¢é‡æäº¤**: ä¿®å¤ä¸€ä¸ªå¤§ç±»æäº¤ä¸€æ¬¡ï¼Œé¿å…å¤§å†²çª

### 1.3 ğŸš¨ æ ¸å¿ƒåŸåˆ™ (é‡è¦)

> **Auto-Fix ç³»ç»Ÿæ˜¯æ‰§è¡Œè€…ï¼Œä¸æ˜¯å†³ç­–è€…**
>
> - âœ… èƒ½åšçš„ï¼šæ‰§è¡Œ**ç¡®å®šçš„ã€æ–‡æ¡£åŒ–çš„ã€è§„èŒƒåŒ–çš„**ä¿®å¤
> - âŒ ä¸èƒ½åšçš„ï¼šåš**æ¶æ„æ€§çš„ã€ä¸šåŠ¡é€»è¾‘çš„ã€éœ€è¦æƒè¡¡**çš„å†³ç­–

#### èƒ½åŠ›è¾¹ç•Œ

| èƒ½åŠ› | è¯´æ˜ |
|------|------|
| âœ… **è‡ªåŠ¨ä¿®å¤** | é…ç½®é”™è¯¯ã€ç¼ºå¤±è·¯ç”±ã€å­—æ®µç¼ºå¤±ã€ç»„ä»¶å¯¼å…¥ |
| âš ï¸ **åŠè‡ªåŠ¨ä¿®å¤** | å¤šæ–¹æ¡ˆé€‰æ‹©ã€å…¼å®¹æ€§é—®é¢˜ã€å®‰å…¨æ€§ä¿®æ”¹ |
| âŒ **ä¸è‡ªåŠ¨ä¿®å¤** | æ¶æ„é‡æ„ã€ä¸šåŠ¡é€»è¾‘ã€æ€§èƒ½ä¼˜åŒ–ã€å®‰å…¨æ¼æ´ |

è¯¦è§ [AUTO-FIX-BOUNDARIES.md](./AUTO-FIX-BOUNDARIES.md)

---

## 1.4 å‰ç½®è§„åˆ’ä¸æ–‡æ¡£æ£€æŸ¥ (ä¿®å¤å‰å¿…åš)

### æ­¥éª¤ 1: æ–‡æ¡£å®Œæ•´æ€§æ£€æŸ¥ âœ…

**åœ¨å¯åŠ¨ Auto-Fix å‰ï¼Œå¿…é¡»æ£€æŸ¥ä»¥ä¸‹æ–‡æ¡£æ˜¯å¦å®Œæ•´**ï¼š

```markdown
## ğŸ“‹ æ–‡æ¡£å®Œæ•´æ€§æ£€æŸ¥æ¸…å•

### é¡¹ç›®æ ¹æ–‡æ¡£
- [ ] CLAUDE.md - é¡¹ç›®è§„èŒƒä¸æ¶æ„
- [ ] CLAUDE_FULL.md - å®Œæ•´æ–‡æ¡£ (å¦‚æœå­˜åœ¨)
- [ ] README.md - é¡¹ç›®ä»‹ç»
- [ ] Project/INDEX.md - é¡¹ç›®æ€»ç´¢å¼•

### åç«¯æ–‡æ¡£
- [ ] Project/ShengBeiDjango/INDEX.md - åç«¯æ€»ç´¢å¼•
- [ ] Project/ShengBeiDjango/pm_robot/INDEX.md - æ ¸å¿ƒæ¨¡å—ç´¢å¼•
- [ ] Project/ShengBeiDjango/accounts/INDEX.md - è®¤è¯æ¨¡å—ç´¢å¼•
- [ ] urls.py æ–‡ä»¶æœ‰å®Œæ•´æ³¨é‡Š
- [ ] models.py æ–‡ä»¶æœ‰å­—æ®µè¯´æ˜

### API æ–‡æ¡£
- [ ] æ‰€æœ‰ API æ¥å£éƒ½æœ‰æ–‡æ¡£è¯´æ˜
- [ ] API è¯·æ±‚å‚æ•°æœ‰æ˜ç¡®å®šä¹‰
- [ ] API å“åº”æ ¼å¼æœ‰æ˜ç¡®å®šä¹‰
- [ ] HTTP çŠ¶æ€ç ä½¿ç”¨è§„èŒƒæœ‰è¯´æ˜
- [ ] è®¤è¯æ–¹å¼æœ‰è¯´æ˜

### å‰ç«¯æ–‡æ¡£
- [ ] Project/ShengBeiVue/INDEX.md - å‰ç«¯æ€»ç´¢å¼•
- [ ] æ ¸å¿ƒç»„ä»¶æœ‰åŠŸèƒ½è¯´æ˜
- [ ] ç»„ä»¶ props æœ‰ç±»å‹å®šä¹‰
- [ ] API è°ƒç”¨é…ç½®å®Œæ•´
```

**å¦‚æœæ–‡æ¡£ç¼ºå¤±**:
```
âŒ é”™è¯¯: å¯åŠ¨ Auto-Fix ä¿®å¤
âœ… æ­£ç¡®:
  1. å…ˆè¡¥å……ç¼ºå¤±çš„æ–‡æ¡£
  2. æ˜ç¡®ä¿®å¤è§„èŒƒ
  3. å†å¯åŠ¨ Auto-Fix
```

### æ­¥éª¤ 2: å¤æ‚é—®é¢˜å‰ç½®è§„åˆ’ âœ…

**å¦‚æœåˆå§‹æµ‹è¯•å‘ç°å¤æ‚é—®é¢˜ï¼Œå¿…é¡»å…ˆè§„åˆ’**ï¼š

```markdown
## ğŸ” å¤æ‚é—®é¢˜è¯†åˆ«æ ‡å‡†

### è‡ªåŠ¨ä¿®å¤èŒƒå›´ (ç®€å•é—®é¢˜)
- é…ç½®é”™è¯¯ (ç«¯å£ã€URL)
- ç¼ºå¤±è·¯ç”± (404)
- ç¼ºå¤±å­—æ®µ (æ•°æ®åº“)
- ç»„ä»¶å¯¼å…¥é”™è¯¯

### éœ€è¦ç¡®è®¤èŒƒå›´ (ä¸­ç­‰é—®é¢˜)
- å­—æ®µç±»å‹ä¸åŒ¹é… (å½±å“å…¼å®¹æ€§)
- å“åº”æ ¼å¼å˜æ›´ (å¤šä¸ªå¯è¡Œæ–¹æ¡ˆ)
- æƒé™é…ç½® (å®‰å…¨æ€§)

### ä¸è‡ªåŠ¨ä¿®å¤ (å¤æ‚é—®é¢˜) âŒ
- æ¶æ„è®¾è®¡é—®é¢˜
- ä¸šåŠ¡é€»è¾‘é—®é¢˜
- æ€§èƒ½ä¼˜åŒ–é—®é¢˜
- å®‰å…¨æ¼æ´ä¿®å¤
- ä¾èµ–å‡çº§é—®é¢˜
```

**å¤æ‚é—®é¢˜å¤„ç†æµç¨‹**:
```
1. åœæ­¢è‡ªåŠ¨ä¿®å¤
2. ç”Ÿæˆå¤æ‚é—®é¢˜åˆ†ææŠ¥å‘Š
3. ç­‰å¾…äººå·¥è§„åˆ’å®Œæˆ
4. æ›´æ–°æ–‡æ¡£è§„èŒƒ
5. é‡æ–°å¯åŠ¨è‡ªåŠ¨ä¿®å¤
```

### æ­¥éª¤ 3: ä¿®å¤è¾¹ç•Œç¡®è®¤ âœ…

**å‘ç”¨æˆ·ç¡®è®¤æœ¬æ¬¡ä¿®å¤èŒƒå›´**:

```markdown
## ğŸ”§ ä¿®å¤è¾¹ç•Œç¡®è®¤

### âœ… æœ¬æ¬¡ä¿®å¤èŒƒå›´
- é…ç½®é—®é¢˜: ç«¯å£ã€URLã€ç¯å¢ƒå˜é‡
- æ•°æ®åº“é—®é¢˜: ç¼ºå¤±å­—æ®µã€è¡¨
- API é—®é¢˜: è·¯ç”±ã€å‚æ•°ã€å“åº”æ ¼å¼
- å‰ç«¯é—®é¢˜: ç»„ä»¶å¯¼å…¥ã€é€‰æ‹©å™¨

### âŒ ä¸åœ¨ä¿®å¤èŒƒå›´ (éœ€æå‰è§„åˆ’)
- æ¶æ„é‡æ„é—®é¢˜
- ä¸šåŠ¡é€»è¾‘é—®é¢˜
- æ€§èƒ½ä¼˜åŒ–é—®é¢˜
- å®‰å…¨æ¼æ´ä¿®å¤
- ä¾èµ–å‡çº§

### ä¿®å¤ç­–ç•¥
- ç®€å•é—®é¢˜: ç›´æ¥ä¿®å¤
- ä¸­ç­‰é—®é¢˜: ç”Ÿæˆæ–¹æ¡ˆï¼Œç­‰å¾…ç¡®è®¤
- å¤æ‚é—®é¢˜: æŠ¥å‘Šï¼Œåœæ­¢ä¿®å¤æµç¨‹

### Git ç­–ç•¥
- åˆ›å»ºä¿®å¤åˆ†æ”¯: auto-fix-{timestamp}
- æ¯ä¸ªå¤§ç±»ä¿®å¤åæäº¤ä¸€æ¬¡
- éªŒè¯é€šè¿‡ååˆå¹¶åˆ°ä¸»åˆ†æ”¯

âœ… æ–‡æ¡£å®Œæ•´æ€§æ£€æŸ¥: é€šè¿‡
âœ… å¤æ‚é—®é¢˜è¯†åˆ«: æ—  / å·²è§„åˆ’
âœ… ä¿®å¤è¾¹ç•Œç¡®è®¤: å·²ç¡®è®¤

æ˜¯å¦å¼€å§‹ä¿®å¤ï¼Ÿ (y/n)
```

---

## 1.5 å‰ç½®æ²Ÿé€šæµç¨‹ (å¯åŠ¨å‰å¿…åš) ğŸš¨

### æ²Ÿé€šåŸåˆ™

> **æ‰€æœ‰æ¶æ„æ€§ã€ä¸šåŠ¡é€»è¾‘çš„é—®é¢˜ï¼Œå¿…é¡»åœ¨ä¿®å¤å‰æ˜ç¡®æ–¹æ¡ˆ**

### è¯†åˆ«éœ€è¦æå‰æ²Ÿé€šçš„é—®é¢˜

åœ¨æ–‡æ¡£æ£€æŸ¥å’Œåˆå§‹æµ‹è¯•ä¸­ï¼Œå¦‚æœå‘ç°ä»¥ä¸‹é—®é¢˜ï¼Œ**å¿…é¡»åœæ­¢å¹¶æ²Ÿé€š**ï¼š

```markdown
## ğŸ”´ éœ€è¦æå‰æ²Ÿé€šçš„é—®é¢˜ç±»å‹

### æ¶æ„è®¾è®¡é—®é¢˜
- æ¨¡å—èŒè´£ä¸æ¸…ï¼Œéœ€è¦é‡æ„
- å¾ªç¯ä¾èµ–ï¼Œéœ€è¦é‡æ–°è®¾è®¡
- æ•°æ®æ¨¡å‹ä¸åˆç†ï¼Œéœ€è¦è°ƒæ•´
- API æ¥å£è®¾è®¡ä¸åˆç†ï¼Œéœ€è¦é‡æ–°è§„åˆ’

### ä¸šåŠ¡é€»è¾‘é—®é¢˜
- è®¡ç®—é€»è¾‘ä¸æ¸…æ™°
- ä¸šåŠ¡è§„åˆ™å†²çª
- çŠ¶æ€æœºè®¾è®¡ä¸åˆç†
- æ•°æ®ä¸€è‡´æ€§ä¿è¯æœºåˆ¶ç¼ºå¤±

### å®‰å…¨æ€§é—®é¢˜
- è®¤è¯/æˆæƒæœºåˆ¶ä¸åˆç†
- æ•æ„Ÿæ•°æ®æœªåŠ å¯†
- SQL æ³¨å…¥é£é™©
- XSS æ¼æ´

### æ€§èƒ½é—®é¢˜
- å“åº”æ—¶é—´è¿‡æ…¢
- å†…å­˜å ç”¨è¿‡é«˜
- æ•°æ®åº“æŸ¥è¯¢æœªä¼˜åŒ–
- ç¼“å­˜ç­–ç•¥ç¼ºå¤±

### ä¾èµ–å‡çº§é—®é¢˜
- ç¬¬ä¸‰æ–¹åº“ç‰ˆæœ¬å†²çª
- éœ€è¦å‡çº§åˆ°ä¸å…¼å®¹ç‰ˆæœ¬
- ä¾èµ–åº“å·²åºŸå¼ƒï¼Œéœ€è¦æ›¿æ¢
```

### å‰ç½®æ²Ÿé€šæµç¨‹

```
1. åˆå§‹æµ‹è¯•
   â””â”€> å‘ç°éœ€è¦æ²Ÿé€šçš„é—®é¢˜
       â”‚
2. ç”Ÿæˆé—®é¢˜åˆ†ææŠ¥å‘Š
   â”œâ”€> é—®é¢˜æè¿°
   â”œâ”€> å½±å“èŒƒå›´
   â”œâ”€> å»ºè®®æ–¹æ¡ˆ (2-3ä¸ª)
   â””â”€> é£é™©è¯„ä¼°
       â”‚
3. é€šè¿‡é’‰é’‰é€šçŸ¥ç”¨æˆ·
   â””â”€> ç­‰å¾…ç”¨æˆ·å†³ç­–
       â”‚
4. ç”¨æˆ·ç¡®è®¤æ–¹æ¡ˆ
   â”œâ”€> æ›´æ–°è®¾è®¡æ–‡æ¡£
   â”œâ”€> æ›´æ–° CLAUDE.md
   â””â”€> æ˜ç¡®ä¿®å¤è§„èŒƒ
       â”‚
5. é‡æ–°å¯åŠ¨ Auto-Fix
   â””â”€> æŒ‰ç…§ç¡®è®¤çš„æ–¹æ¡ˆæ‰§è¡Œ
```

### æ²Ÿé€šè®°å½•æ¨¡æ¿

```markdown
# å‰ç½®æ²Ÿé€šè®°å½•

## é—®é¢˜æè¿°
- é—®é¢˜ç±»å‹: æ¶æ„è®¾è®¡ / ä¸šåŠ¡é€»è¾‘ / å®‰å…¨æ€§ / æ€§èƒ½ / ä¾èµ–
- ä¸¥é‡çº§åˆ«: ğŸ”´ ä¸¥é‡ / ğŸŸ¡ ä¸­ç­‰
- å½±å“èŒƒå›´: æ¶‰åŠçš„æ¨¡å—/åŠŸèƒ½

## è¯¦ç»†åˆ†æ
### å½“å‰å®ç°
(æè¿°å½“å‰çš„å®ç°æ–¹å¼)

### å­˜åœ¨é—®é¢˜
(åˆ—å‡ºå…·ä½“çš„é—®é¢˜ç‚¹)

### å½±å“èŒƒå›´
- å½±å“çš„æ¨¡å—:
- å½±å“çš„åŠŸèƒ½:
- æ•°æ®å½±å“:

## å»ºè®®æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1: xxx
- æè¿°:
- ä¼˜ç‚¹:
- ç¼ºç‚¹:
- é£é™©:
- å·¥ä½œé‡:

### æ–¹æ¡ˆ 2: xxx
- æè¿°:
- ä¼˜ç‚¹:
- ç¼ºç‚¹:
- é£é™©:
- å·¥ä½œé‡:

### æ–¹æ¡ˆ 3: xxx
(å¦‚æœ‰)

## ç”¨æˆ·å†³ç­–
- é€‰æ‹©æ–¹æ¡ˆ: æ–¹æ¡ˆ X
- è¡¥å……è¦æ±‚:
- ç¡®è®¤æ—¶é—´: 2026-01-05 XX:XX:XX

## åç»­è¡ŒåŠ¨
- [ ] æ›´æ–°è®¾è®¡æ–‡æ¡£
- [ ] æ›´æ–° CLAUDE.md
- [ ] ç¼–å†™æŠ€æœ¯æ–¹æ¡ˆ
- [ ] å¯åŠ¨ Auto-Fix
```

---

## 1.6 ä¿®å¤ä¸­çš„äººå·¥ä»‹å…¥æœºåˆ¶ (é’‰é’‰é€šçŸ¥) ğŸ“±

### è§¦å‘åœºæ™¯

åœ¨è‡ªåŠ¨ä¿®å¤è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä»¥ä¸‹æƒ…å†µä¼š**æš‚åœä¿®å¤å¹¶é€šè¿‡é’‰é’‰é€šçŸ¥ä½ **ï¼š

```markdown
## âš ï¸ éœ€è¦äººå·¥ä»‹å…¥çš„åœºæ™¯

### åœºæ™¯ 1: ä¸­ç­‰é—®é¢˜éœ€è¦å†³ç­–
- å­—æ®µç±»å‹ä¸åŒ¹é…ï¼Œå½±å“å…¼å®¹æ€§
- å“åº”æ ¼å¼å˜æ›´ï¼Œæœ‰å¤šä¸ªå¯è¡Œæ–¹æ¡ˆ
- æƒé™é…ç½®ï¼Œæ¶‰åŠå®‰å…¨æ€§

### åœºæ™¯ 2: å‘ç°æ–‡æ¡£å†²çª
- æ–‡æ¡£ä¸å®ç°ä¸ä¸€è‡´
- å¤šä¸ªæ–‡æ¡£ä¹‹é—´å­˜åœ¨å†²çª
- æ–‡æ¡£ç¼ºå¤±å…³é”®ä¿¡æ¯

### åœºæ™¯ 3: ä¿®å¤å¤±è´¥éœ€è¦åˆ†æ
- è‡ªåŠ¨ä¿®å¤å¤±è´¥ï¼ŒåŸå› ä¸æ˜
- ä¿®å¤åæµ‹è¯•ä»å¤±è´¥
- å¼•å…¥äº†æ–°çš„é—®é¢˜

### åœºæ™¯ 4: è¶…å‡ºä¿®å¤è¾¹ç•Œ
- å‘ç°å¤æ‚é—®é¢˜ï¼ˆæ¶æ„/ä¸šåŠ¡é€»è¾‘ï¼‰
- éœ€è¦è·¨æ¨¡å—åè°ƒ
- å½±å“èŒƒå›´è¿‡å¤§

### åœºæ™¯ 5: æ•°æ®é£é™©
- ä¿®å¤å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±
- éœ€è¦æ‰§è¡Œæ•°æ®è¿ç§»
- éœ€è¦æ¸…ç†è„æ•°æ®
```

### é’‰é’‰é€šçŸ¥æœºåˆ¶

#### æ¶ˆæ¯æ ¼å¼

```python
# é’‰é’‰æ¶ˆæ¯æ¨¡æ¿
DINGTALK_MESSAGE_TEMPLATE = """
ğŸ¤– **Auto-Fix ç³»ç»Ÿé€šçŸ¥**

**é¡¹ç›®**: {project_name}
**åˆ†æ”¯**: {branch_name}
**é˜¶æ®µ**: {stage} (é…ç½®/æ•°æ®åº“/API/å‰ç«¯)
**æ—¶é—´**: {timestamp}

---

## ğŸ“‹ é—®é¢˜æ¦‚è¿°

**é—®é¢˜ç±»å‹**: {problem_type}
**ä¸¥é‡çº§åˆ«**: {severity} (ğŸ”´ä¸¥é‡ / ğŸŸ¡ä¸­ç­‰)
**é—®é¢˜æ¥æº**: {source} (æµ‹è¯•/ä¿®å¤/æ–‡æ¡£æ£€æŸ¥)

## ğŸ” è¯¦ç»†æè¿°

{problem_description}

## ğŸ’¡ å»ºè®®æ–¹æ¡ˆ

{solution_suggestions}

## â“ éœ€è¦ä½ å†³ç­–

{decision_points}

---

**é€‰é¡¹**:
1. ç»§ç»­ä¿®å¤ (ä½¿ç”¨æ–¹æ¡ˆ 1)
2. ç»§ç»­ä¿®å¤ (ä½¿ç”¨æ–¹æ¡ˆ 2)
3. è·³è¿‡æ­¤é—®é¢˜
4. åœæ­¢ä¿®å¤ï¼Œç­‰å¾…è¿›ä¸€æ­¥è§„åˆ’

**è¯·å›å¤**: 1 / 2 / 3 / 4

---
ğŸ¤– æ­¤æ¶ˆæ¯ç”± Auto-Fix ç³»ç»Ÿè‡ªåŠ¨å‘é€
"""
```

#### é€šçŸ¥æµç¨‹

```
ä¿®å¤è¿‡ç¨‹
  â”‚
  â”œâ”€> é‡åˆ°éœ€è¦ä»‹å…¥çš„é—®é¢˜
  â”‚
  â”œâ”€> ç”Ÿæˆé—®é¢˜åˆ†æ
  â”‚   â”œâ”€> é—®é¢˜æè¿°
  â”‚   â”œâ”€> å½±å“åˆ†æ
  â”‚   â””â”€> å»ºè®®æ–¹æ¡ˆ
  â”‚
  â”œâ”€> å‘é€é’‰é’‰é€šçŸ¥
  â”‚   â””â”€> åŒ…å«è¯¦ç»†ä¿¡æ¯å’Œé€‰é¡¹
  â”‚
  â”œâ”€> â¸ï¸ æš‚åœä¿®å¤
  â”‚   â””â”€> ç­‰å¾…ç”¨æˆ·å›å¤
  â”‚
  â”œâ”€> ç”¨æˆ·å›å¤ (1/2/3/4)
  â”‚   â”‚
  â”‚   â”œâ”€> 1 æˆ– 2: ç»§ç»­ä¿®å¤
  â”‚   â”œâ”€> 3: è·³è¿‡æ­¤é—®é¢˜
  â”‚   â””â”€> 4: åœæ­¢ä¿®å¤
  â”‚
  â””â”€> è®°å½•å†³ç­–åˆ°æ—¥å¿—
      â””â”€> ç»§ç»­åç»­ä¿®å¤
```

#### é’‰é’‰æ¨¡å—è®¾è®¡

```python
# dingtalk_notifier.py

import requests
import json
from datetime import datetime

class DingTalkNotifier:
    """é’‰é’‰é€šçŸ¥å™¨"""

    def __init__(self, webhook_url, default_mentioned_list=None):
        """
        åˆå§‹åŒ–é’‰é’‰é€šçŸ¥å™¨

        Args:
            webhook_url: é’‰é’‰æœºå™¨äºº Webhook URL
            default_mentioned_list: é»˜è®¤@çš„æ‰‹æœºå·åˆ—è¡¨
        """
        self.webhook_url = webhook_url
        self.default_mentioned_list = default_mentioned_list or []

    def send_notification(self, message, mentioned_list=None):
        """
        å‘é€é’‰é’‰é€šçŸ¥

        Args:
            message: æ¶ˆæ¯å†…å®¹ (Markdown æ ¼å¼)
            mentioned_list: @çš„æ‰‹æœºå·åˆ—è¡¨
        """
        data = {
            "msgtype": "markdown",
            "markdown": {
                "title": "Auto-Fix ç³»ç»Ÿé€šçŸ¥",
                "text": message
            },
            "at": {
                "atMobiles": mentioned_list or self.default_mentioned_list,
                "isAtAll": False
            }
        }

        response = requests.post(
            self.webhook_url,
            headers={"Content-Type": "application/json"},
            data=json.dumps(data)
        )

        return response.json()

    def notify_problem_detected(self, problem):
        """é€šçŸ¥æ£€æµ‹åˆ°é—®é¢˜"""
        message = self._format_problem_message(problem)
        return self.send_notification(message)

    def notify_fix_failed(self, problem, error):
        """é€šçŸ¥ä¿®å¤å¤±è´¥"""
        message = f"""
ğŸ¤– **Auto-Fix ä¿®å¤å¤±è´¥é€šçŸ¥**

**é—®é¢˜**: {problem.title}
**ä¿®å¤æ–¹æ¡ˆ**: {problem.fix_strategy}
**é”™è¯¯ä¿¡æ¯**: {error}

---
ğŸ’¡ è¯·åˆ†æå¤±è´¥åŸå› å¹¶æä¾›æ–°çš„æ–¹æ¡ˆ
        """
        return self.send_notification(message)

    def notify_decision_required(self, problem, solutions):
        """é€šçŸ¥éœ€è¦å†³ç­–"""
        solution_text = "\n\n".join([
            f"**æ–¹æ¡ˆ {i+1}**: {sol['description']}\n"
            f"- ä¼˜ç‚¹: {sol['pros']}\n"
            f"- ç¼ºç‚¹: {sol['cons']}\n"
            f"- é£é™©: {sol['risk']}"
            for i, sol in enumerate(solutions)
        ])

        message = f"""
ğŸ¤– **Auto-Fix éœ€è¦ä½ çš„å†³ç­–**

**é—®é¢˜**: {problem.title}
**é—®é¢˜ç±»å‹**: {problem.category}
**ä¸¥é‡çº§åˆ«**: {problem.severity}

## ğŸ“‹ é—®é¢˜æè¿°

{problem.description}

## ğŸ’¡ å»ºè®®æ–¹æ¡ˆ

{solution_text}

## â“ è¯·é€‰æ‹©

å›å¤ **1**-{len(solutions)} é€‰æ‹©æ–¹æ¡ˆ
å›å¤ **4** è·³è¿‡æ­¤é—®é¢˜
å›å¤ **0** åœæ­¢ä¿®å¤

---
ğŸ¤– ç­‰å¾…ä½ çš„å†³ç­–...
        """
        return self.send_notification(message)

    def wait_for_decision(self, timeout_minutes=60):
        """
        ç­‰å¾…ç”¨æˆ·å†³ç­–

        Args:
            timeout_minutes: è¶…æ—¶æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰

        Returns:
            ç”¨æˆ·çš„é€‰æ‹© (1/2/3/4)
        """
        # å®ç°ç­‰å¾…é€»è¾‘
        # å¯ä»¥é€šè¿‡è½®è¯¢é’‰é’‰æ¶ˆæ¯æˆ–è€…å‘½ä»¤è¡Œè¾“å…¥
        pass
```

### é’‰é’‰é…ç½®

```json
// auto-fix.config.json
{
  "dingtalk": {
    "enabled": true,
    "webhookUrl": "https://oapi.dingtalk.com/robot/send?access_token=YOUR_TOKEN",
    "mentionedList": ["13800138000"],  // ä½ çš„æ‰‹æœºå·
    "notifyOn": {
      "problemDetected": true,
      "fixFailed": true,
      "decisionRequired": true,
      "complexProblemFound": true
    }
  }
}
```

---

## 2. é—®é¢˜åˆ†ç±»ä¸ä¿®å¤ç­–ç•¥çŸ©é˜µ

åŸºäºç°æœ‰æµ‹è¯•è„šæœ¬åˆ†æï¼Œè®¾è®¡ä»¥ä¸‹é—®é¢˜åˆ†ç±»çŸ©é˜µï¼š

### 2.1 ç«¯å£æ£€æµ‹é—®é¢˜ (test-ports.py)

| é—®é¢˜ç±»å‹ | ä¸¥é‡çº§åˆ« | è‡ªåŠ¨ä¿®å¤ç­–ç•¥ | ä¿®å¤ä¾æ® |
|---------|---------|-------------|---------|
| **ç«¯å£æœªç›‘å¬** | ğŸ”´ ä¸¥é‡ | æ£€æŸ¥æœåŠ¡é…ç½® â†’ å¯åŠ¨æœåŠ¡ | é¡¹ç›®æ–‡æ¡£ + ç°æœ‰é…ç½® |
| **ç«¯å£å†²çª** | ğŸŸ¡ ä¸­ç­‰ | ä¿®æ”¹é…ç½®æ–‡ä»¶ç«¯å£ | CLAUDE.md æœåŠ¡é…ç½® |
| **è¶…æ—¶** | ğŸŸ¡ ä¸­ç­‰ | å¢åŠ è¶…æ—¶æ—¶é—´ | æœåŠ¡é…ç½®æ–‡ä»¶ |

#### ä¿®å¤ç¤ºä¾‹

**é—®é¢˜**: MySQL ç«¯å£ 3306 æœªç›‘å¬
```
è¯Šæ–­æ­¥éª¤:
1. æ£€æŸ¥ MySQL æœåŠ¡æ˜¯å¦å®‰è£…
2. æ£€æŸ¥ MySQL æœåŠ¡æ˜¯å¦å¯åŠ¨
3. æ£€æŸ¥é…ç½®æ–‡ä»¶ç«¯å£æ˜¯å¦æ­£ç¡®
4. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨

ä¿®å¤ç­–ç•¥:
- æœåŠ¡æœªå®‰è£… â†’ æŠ¥å‘Šç”¨æˆ· (å¤æ‚é—®é¢˜)
- æœåŠ¡æœªå¯åŠ¨ â†’ è‡ªåŠ¨å¯åŠ¨ (ç®€å•é—®é¢˜)
- ç«¯å£é…ç½®é”™è¯¯ â†’ ä¿®æ”¹é…ç½® (ä¸­ç­‰é—®é¢˜)
- ç«¯å£è¢«å ç”¨ â†’ ä¿®æ”¹ä¸ºå¤‡ç”¨ç«¯å£ (ä¸­ç­‰é—®é¢˜)
```

---

### 2.2 API æ¥å£é—®é¢˜ (test-api.py)

| é—®é¢˜ç±»å‹ | ä¸¥é‡çº§åˆ« | è‡ªåŠ¨ä¿®å¤ç­–ç•¥ | ä¿®å¤ä¾æ® |
|---------|---------|-------------|---------|
| **HTTP 404** | ğŸŸ¡ ä¸­ç­‰ | æ£€æŸ¥è·¯ç”±é…ç½® â†’ ä¿®å¤è·¯ç”± | urls.py + API æ–‡æ¡£ |
| **HTTP 500** | ğŸ”´ ä¸¥é‡ | æŸ¥çœ‹é”™è¯¯æ—¥å¿— â†’ ä¿®å¤ä»£ç  | é”™è¯¯å †æ ˆ + ä»£ç æ¨¡å¼ |
| **HTTP 400** | ğŸŸ¡ ä¸­ç­‰ | æ£€æŸ¥è¯·æ±‚å‚æ•° â†’ ä¿®å¤å‚æ•° | API æ–‡æ¡£ + views.py |
| **å“åº”ç ä¸åŒ¹é…** | ğŸŸ¡ ä¸­ç­‰ | æ£€æŸ¥ä¸šåŠ¡é€»è¾‘ â†’ ä¿®å¤å“åº” | API è§„èŒƒ + æµ‹è¯•ç”¨ä¾‹ |
| **å­—æ®µç¼ºå¤±** | ğŸŸ¡ ä¸­ç­‰ | æ·»åŠ ç¼ºå¤±å­—æ®µ | æ•°æ®æ¨¡å‹ + API æ–‡æ¡£ |
| **å­—æ®µç±»å‹é”™è¯¯** | ğŸŸ¡ ä¸­ç­‰ | ä¿®æ­£å­—æ®µç±»å‹ | æ•°æ®æ¨¡å‹å®šä¹‰ |
| **è®¤è¯å¤±è´¥** | ğŸŸ¡ ä¸­ç­‰ | æ£€æŸ¥è®¤è¯é€»è¾‘ â†’ ä¿®å¤è®¤è¯ | accounts/INDEX.md |

#### ä¿®å¤ç¤ºä¾‹

**é—®é¢˜**: API è¿”å› 404
```
è¯Šæ–­æ­¥éª¤:
1. æ£€æŸ¥ urls.py æ˜¯å¦æœ‰å¯¹åº”è·¯ç”±
2. æ£€æŸ¥ views.py æ˜¯å¦æœ‰å¯¹åº”è§†å›¾å‡½æ•°
3. æ£€æŸ¥è·¯ç”±è·¯å¾„æ˜¯å¦æ­£ç¡®

ä¿®å¤ç­–ç•¥:
- è·¯ç”±ç¼ºå¤± â†’ æ·»åŠ è·¯ç”± (ç®€å•é—®é¢˜)
- è§†å›¾å‡½æ•°ç¼ºå¤± â†’ æ·»åŠ è§†å›¾å‡½æ•° (ä¸­ç­‰é—®é¢˜)
- è·¯å¾„é”™è¯¯ â†’ ä¿®æ­£è·¯å¾„ (ç®€å•é—®é¢˜)
```

**é—®é¢˜**: å“åº”å­—æ®µç¼ºå¤±
```
è¯Šæ–­æ­¥éª¤:
1. æ£€æŸ¥ models.py å®šä¹‰
2. æ£€æŸ¥åºåˆ—åŒ–å™¨é…ç½®
3. æ£€æŸ¥ API æ–‡æ¡£è¦æ±‚

ä¿®å¤ç­–ç•¥:
- æ¨¡å‹å­—æ®µç¼ºå¤± â†’ æ·»åŠ å­—æ®µ + è¿ç§» (ä¸­ç­‰é—®é¢˜)
- åºåˆ—åŒ–å™¨ç¼ºå¤± â†’ æ·»åŠ åºåˆ—åŒ–å™¨å­—æ®µ (ç®€å•é—®é¢˜)
- API æ–‡æ¡£è¿‡æœŸ â†’ æ›´æ–°æ–‡æ¡£ (ç®€å•é—®é¢˜)
```

---

### 2.3 UI æµ‹è¯•é—®é¢˜ (test-ui.py)

| é—®é¢˜ç±»å‹ | ä¸¥é‡çº§åˆ« | è‡ªåŠ¨ä¿®å¤ç­–ç•¥ | ä¿®å¤ä¾æ® |
|---------|---------|-------------|---------|
| **é¡µé¢ 404** | ğŸŸ¡ ä¸­ç­‰ | æ£€æŸ¥è·¯ç”±é…ç½® â†’ æ·»åŠ è·¯ç”± | Vue Router é…ç½® |
| **å…ƒç´ æœªæ‰¾åˆ°** | ğŸŸ¡ ä¸­ç­‰ | æ£€æŸ¥é€‰æ‹©å™¨ â†’ æ›´æ–°é€‰æ‹©å™¨ | ç»„ä»¶ä»£ç  |
| **ç»„ä»¶æœªæ¸²æŸ“** | ğŸ”´ ä¸¥é‡ | æ£€æŸ¥ç»„ä»¶å¯¼å…¥ â†’ ä¿®å¤å¯¼å…¥ | ç»„ä»¶ç»“æ„ + INDEX.md |
| **æ¥å£è°ƒç”¨å¤±è´¥** | ğŸŸ¡ ä¸­ç­‰ | æ£€æŸ¥ API é…ç½® â†’ ä¿®å¤ URL | apis/ é…ç½® |
| **çŠ¶æ€é”™è¯¯** | ğŸŸ¡ ä¸­ç­‰ | æ£€æŸ¥çŠ¶æ€ç®¡ç† â†’ ä¿®å¤é€»è¾‘ | Pinia/Vuex çŠ¶æ€ |

#### ä¿®å¤ç¤ºä¾‹

**é—®é¢˜**: å…ƒç´ é€‰æ‹©å™¨æ‰¾ä¸åˆ°å…ƒç´ 
```
è¯Šæ–­æ­¥éª¤:
1. æ£€æŸ¥ç»„ä»¶æ˜¯å¦æ­£ç¡®å¯¼å…¥
2. æ£€æŸ¥ç»„ä»¶æ˜¯å¦æ­£ç¡®æ¸²æŸ“
3. æ£€æŸ¥å…ƒç´ é€‰æ‹©å™¨æ˜¯å¦æ­£ç¡®
4. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æŸ¥å®é™… DOM

ä¿®å¤ç­–ç•¥:
- ç»„ä»¶æœªå¯¼å…¥ â†’ æ·»åŠ å¯¼å…¥è¯­å¥ (ç®€å•é—®é¢˜)
- é€‰æ‹©å™¨é”™è¯¯ â†’ æ›´æ–°é€‰æ‹©å™¨ (ç®€å•é—®é¢˜)
- ç»„ä»¶æ¡ä»¶æ¸²æŸ“ â†’ æ£€æŸ¥æ¸²æŸ“æ¡ä»¶ (ä¸­ç­‰é—®é¢˜)
- DOM ç»“æ„å˜åŒ– â†’ æ›´æ–°æµ‹è¯•é…ç½® (ç®€å•é—®é¢˜)
```

---

### 2.4 æ•°æ®åº“é—®é¢˜ (æ–°å¢æ£€æµ‹)

| é—®é¢˜ç±»å‹ | ä¸¥é‡çº§åˆ« | è‡ªåŠ¨ä¿®å¤ç­–ç•¥ | ä¿®å¤ä¾æ® |
|---------|---------|-------------|---------|
| **è¡¨ä¸å­˜åœ¨** | ğŸ”´ ä¸¥é‡ | åˆ›å»ºè¡¨ + è¿ç§» | models.py å®šä¹‰ |
| **å­—æ®µä¸å­˜åœ¨** | ğŸŸ¡ ä¸­ç­‰ | æ·»åŠ å­—æ®µ + è¿ç§» | æ¨¡å‹å®šä¹‰ |
| **ç´¢å¼•ç¼ºå¤±** | ğŸŸ¢ è½»å¾® | æ·»åŠ ç´¢å¼• | æ€§èƒ½ä¼˜åŒ–æ–‡æ¡£ |
| **å¤–é”®çº¦æŸé”™è¯¯** | ğŸŸ¡ ä¸­ç­‰ | ä¿®å¤å¤–é”®å…³ç³» | æ¨¡å‹å…³ç³»å®šä¹‰ |
| **è¿ç§»æœªæ‰§è¡Œ** | ğŸŸ¡ ä¸­ç­‰ | æ‰§è¡Œè¿ç§» | migrations/ ç›®å½• |

---

## 3. ä¿®å¤ä¼˜å…ˆçº§è®¾è®¡

### 3.1 é—®é¢˜ä¸¥é‡çº§åˆ«

- ğŸ”´ **ä¸¥é‡ (Critical)**: é˜»å¡ç³»ç»Ÿè¿è¡Œï¼Œå¿…é¡»ç«‹å³ä¿®å¤
- ğŸŸ¡ **ä¸­ç­‰ (Medium)**: å½±å“éƒ¨åˆ†åŠŸèƒ½ï¼Œéœ€è¦å°½å¿«ä¿®å¤
- ğŸŸ¢ **è½»å¾® (Minor)**: ä¸å½±å“åŠŸèƒ½ï¼Œå¯ä»¥ç¨åä¿®å¤

### 3.2 ä¿®å¤é¡ºåº (ä¸‰é˜¶æ®µç­–ç•¥)

#### ğŸ“‹ é˜¶æ®µ 0: å¿«é€Ÿé…ç½®ä¿®å¤ (ä¼˜å…ˆçº§ 0)
```
é…ç½®ç±»é—®é¢˜ (ç«¯å£ã€ç¯å¢ƒå˜é‡ã€URL)
   â””â”€> ä¿®å¤å¿«ï¼Œå½±å“æ‰€æœ‰æœåŠ¡ âœ…
```

#### ğŸ“Š é˜¶æ®µ 1: åç«¯ä¾èµ–é“¾ä¿®å¤ (æŒ‰ä¾èµ–é¡ºåº)
```
ä¼˜å…ˆçº§ A: æ•°æ®åº“é—®é¢˜ (è¡¨ç»“æ„ã€å­—æ®µã€è¿ç§»)
   â””â”€> åç«¯åŸºç¡€ï¼ŒAPI ä¾èµ–æ•°æ® âœ…

ä¼˜å…ˆçº§ B: API æ¥å£é—®é¢˜ (è·¯ç”±ã€å‚æ•°ã€å“åº”)
   â””â”€> å‰ç«¯ä¾èµ– API è¿”å›æ•°æ® âœ…

ä¼˜å…ˆçº§ C: è®¤è¯/æƒé™é—®é¢˜
   â””â”€> accounts ç›¸å…³é€»è¾‘ âœ…
```

#### ğŸ¨ é˜¶æ®µ 2: å‰ç«¯ä¿®å¤ (ä¾èµ–åç«¯ç¨³å®š)
```
ä¼˜å…ˆçº§ 2: å‰ç«¯ç»„ä»¶é—®é¢˜ (æ¸²æŸ“ã€é€‰æ‹©å™¨ã€çŠ¶æ€)
   â””â”€> ç”¨æˆ·å¯è§ï¼Œéœ€åç«¯æ•°æ®æ”¯æŒ âœ…
```

#### âœ… é˜¶æ®µ 3: é›†æˆæµ‹è¯•
```
å‰åç«¯è”è°ƒæµ‹è¯•
   â””â”€> éªŒè¯å®Œæ•´åŠŸèƒ½é“¾è·¯ âœ…
```

**è®¾è®¡ç†å¿µ**:
- **ä¾èµ–ä¼˜å…ˆ**: åº•å±‚å…ˆä¿®å¤ (æ•°æ®åº“ â†’ API â†’ å‰ç«¯)
- **é…ç½®å…ˆè¡Œ**: é…ç½®é—®é¢˜æ˜¯æ‰€æœ‰æœåŠ¡çš„åŸºç¡€
- **åˆ†é˜¶æ®µéªŒè¯**: æ¯ä¸ªé˜¶æ®µç»“æŸåé‡æ–°æµ‹è¯•ï¼Œç¡®ä¿åç»­ä¿®å¤æœ‰ç¨³å®šåŸºç¡€
- **é¿å… Mock**: ä¸ä½¿ç”¨å‡æ•°æ®ï¼Œé€šè¿‡çœŸå®åç«¯æ”¯æŒå‰ç«¯æµ‹è¯•

---

## 4. å®‰å…¨çº§åˆ«ä¸ä¿®å¤ç­–ç•¥

### 4.1 ç®€å•é—®é¢˜ (ç›´æ¥ä¿®å¤)

**å®šä¹‰**: é…ç½®é”™è¯¯ã€æ‹¼å†™é”™è¯¯ã€æ˜æ˜¾bug

**ä¿®å¤ç­–ç•¥**:
```
1. è‡ªåŠ¨ä¿®å¤
2. è¿è¡Œæµ‹è¯•éªŒè¯
3. Git æäº¤
4. ç»§ç»­ä¸‹ä¸€ä¸ªé—®é¢˜
```

**ç¤ºä¾‹**:
- ç«¯å£é…ç½®é”™è¯¯ â†’ ä¿®æ”¹ç«¯å£
- URL æ‹¼å†™é”™è¯¯ â†’ ä¿®æ­£ URL
- å¯¼å…¥è·¯å¾„é”™è¯¯ â†’ ä¿®æ­£è·¯å¾„

---

### 4.2 ä¸­ç­‰é—®é¢˜ (ç”Ÿæˆæ–¹æ¡ˆ + ç­‰å¾…ç¡®è®¤)

**å®šä¹‰**: éœ€è¦åˆ¤æ–­ä¿®å¤æ–¹å‘çš„é€»è¾‘é—®é¢˜

**ä¿®å¤ç­–ç•¥**:
```
1. åˆ†æé—®é¢˜
2. ç”Ÿæˆ 2-3 ä¸ªä¿®å¤æ–¹æ¡ˆ
3. è¯¢é—®ç”¨æˆ·é€‰æ‹©
4. ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œ
5. è¿è¡Œæµ‹è¯•éªŒè¯
6. Git æäº¤
```

**ç¤ºä¾‹**:
- API è·¯ç”±å†²çª â†’ ä¿®æ”¹è·¯ç”±è·¯å¾„ OR é‡å‘½åè§†å›¾å‡½æ•°
- å­—æ®µç±»å‹ä¸åŒ¹é… â†’ ä¿®æ”¹å­—æ®µç±»å‹ OR ä¿®æ”¹æ•°æ®è½¬æ¢é€»è¾‘
- ç»„ä»¶æœªæ¸²æŸ“ â†’ æ·»åŠ å¯¼å…¥ OR æ£€æŸ¥æ¡ä»¶æ¸²æŸ“

---

### 4.3 å¤æ‚é—®é¢˜ (æŠ¥å‘Šç»™ç”¨æˆ·)

**å®šä¹‰**: æ¶æ„å±‚é¢çš„é—®é¢˜ï¼Œéœ€è¦é‡æ–°è®¾è®¡

**ä¿®å¤ç­–ç•¥**:
```
1. åˆ†æé—®é¢˜æ ¹å› 
2. è¯¦ç»†é—®é¢˜æè¿°
3. æä¾›åˆ†æå»ºè®®
4. ç­‰å¾…ç”¨æˆ·å†³ç­–
```

**ç¤ºä¾‹**:
- æœåŠ¡æœªå®‰è£… â†’ æŠ¥å‘Šç”¨æˆ·ï¼Œæä¾›å®‰è£…æŒ‡å—
- æ•°æ®åº“è®¾è®¡ç¼ºé™· â†’ æŠ¥å‘Šç”¨æˆ·ï¼Œå»ºè®®é‡æ„æ–¹æ¡ˆ
- æ¶æ„å†²çª â†’ æŠ¥å‘Šç”¨æˆ·ï¼Œå»ºè®®æ¶æ„è°ƒæ•´

---

## 5. Git åˆ†æ”¯å·¥ä½œæµ

### 5.1 åˆ†æ”¯ç­–ç•¥

```
main (ä¸»åˆ†æ”¯)
  â””â”€> auto-fix-{timestamp} (ä¿®å¤åˆ†æ”¯)
       â”œâ”€> fix/config-ports (é…ç½®ä¿®å¤)
       â”œâ”€> fix/database-migration (æ•°æ®åº“ä¿®å¤)
       â”œâ”€> fix/api-routes (API ä¿®å¤)
       â””â”€> fix/frontend-components (å‰ç«¯ä¿®å¤)
```

### 5.2 å·¥ä½œæµç¨‹

```
æ­¥éª¤ 1: åˆ›å»ºä¿®å¤åˆ†æ”¯
  git checkout -b auto-fix-20260105-143000

æ­¥éª¤ 2: è¿è¡Œæµ‹è¯•
  python run-all-tests.py
  â””â”€> ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

æ­¥éª¤ 3: åˆ†ç±»é—®é¢˜
  â””â”€> æŒ‰ä¼˜å…ˆçº§æ’åº: é…ç½® â†’ æ•°æ®åº“ â†’ API â†’ å‰ç«¯

æ­¥éª¤ 4: ä¿®å¤é—®é¢˜ (å¾ªç¯)
  â”œâ”€> ä¿®å¤ä¸€ä¸ªå¤§ç±» (å¦‚: é…ç½®é—®é¢˜)
  â”œâ”€> Git æäº¤:
  â”‚     git add .
  â”‚     git commit -m "fix(config): ä¿®å¤ç«¯å£é…ç½®å†²çª"
  â”œâ”€> é‡æ–°æµ‹è¯•
  â”œâ”€> éªŒè¯ä¿®å¤æ•ˆæœ
  â””â”€> ç»§ç»­ä¸‹ä¸€ä¸ªå¤§ç±»

æ­¥éª¤ 5: åˆå¹¶åˆ°ä¸»åˆ†æ”¯
  â”œâ”€> git checkout main
  â”œâ”€> git merge auto-fix-20260105-143000
  â””â”€> è¿è¡Œå®Œæ•´æµ‹è¯•éªŒè¯

æ­¥éª¤ 6: æ¸…ç†
  â”œâ”€> æµ‹è¯•é€šè¿‡ â†’ åˆ é™¤åˆ†æ”¯
  â””â”€> æµ‹è¯•å¤±è´¥ â†’ å›æ»šåˆ†æ”¯ï¼Œåˆ†æåŸå› 
```

---

## 6. ç³»ç»Ÿæ¶æ„

### 6.1 æ¨¡å—ç»“æ„

```
auto-fix-system/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ main.py                 # ä¸»æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ problem_analyzer.py     # é—®é¢˜åˆ†æå¼•æ“
â”‚   â”œâ”€â”€ fix_executor.py         # ä¿®å¤æ‰§è¡Œå™¨
â”‚   â””â”€â”€ git_manager.py          # Git åˆ†æ”¯ç®¡ç†
â”œâ”€â”€ fixers/
â”‚   â”œâ”€â”€ config_fixer.py         # é…ç½®ä¿®å¤å™¨
â”‚   â”œâ”€â”€ database_fixer.py       # æ•°æ®åº“ä¿®å¤å™¨
â”‚   â”œâ”€â”€ api_fixer.py            # API ä¿®å¤å™¨
â”‚   â””â”€â”€ frontend_fixer.py       # å‰ç«¯ä¿®å¤å™¨
â”œâ”€â”€ analyzers/
â”‚   â”œâ”€â”€ port_analyzer.py        # ç«¯å£é—®é¢˜åˆ†æ
â”‚   â”œâ”€â”€ api_analyzer.py         # API é—®é¢˜åˆ†æ
â”‚   â”œâ”€â”€ ui_analyzer.py          # UI é—®é¢˜åˆ†æ
â”‚   â””â”€â”€ db_analyzer.py          # æ•°æ®åº“é—®é¢˜åˆ†æ
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ doc_reader.py           # æ–‡æ¡£è¯»å–å™¨
â”‚   â”œâ”€â”€ config_loader.py        # é…ç½®åŠ è½½å™¨
â”‚   â””â”€â”€ reporter.py             # æŠ¥å‘Šç”Ÿæˆå™¨
â””â”€â”€ tests/
    â”œâ”€â”€ test_problem_analyzer.py
    â””â”€â”€ test_fix_executor.py
```

### 6.2 æ ¸å¿ƒç±»è®¾è®¡

#### 6.2.1 ProblemAnalyzer (é—®é¢˜åˆ†æå¼•æ“)

```python
class ProblemAnalyzer:
    """é—®é¢˜åˆ†æå¼•æ“"""

    def analyze(self, test_results):
        """åˆ†ææµ‹è¯•ç»“æœï¼Œåˆ†ç±»é—®é¢˜"""
        problems = []

        # åˆ†æç«¯å£é—®é¢˜
        port_problems = self.analyze_ports(test_results['ports'])
        problems.extend(port_problems)

        # åˆ†æ API é—®é¢˜
        api_problems = self.analyze_api(test_results['api'])
        problems.extend(api_problems)

        # åˆ†æ UI é—®é¢˜
        ui_problems = self.analyze_ui(test_results['ui'])
        problems.extend(ui_problems)

        # åˆ†ææ•°æ®åº“é—®é¢˜
        db_problems = self.analyze_database(test_results['database'])
        problems.extend(db_problems)

        # æŒ‰ä¼˜å…ˆçº§æ’åº
        return self.sort_by_priority(problems)

    def classify_severity(self, problem):
        """åˆ†ç±»é—®é¢˜ä¸¥é‡çº§åˆ«"""
        # ğŸ”´ ä¸¥é‡ / ğŸŸ¡ ä¸­ç­‰ / ğŸŸ¢ è½»å¾®
        pass

    def determine_fix_strategy(self, problem):
        """ç¡®å®šä¿®å¤ç­–ç•¥ (ç®€å•/ä¸­ç­‰/å¤æ‚)"""
        # ç®€å• â†’ ç›´æ¥ä¿®å¤
        # ä¸­ç­‰ â†’ ç”Ÿæˆæ–¹æ¡ˆ
        # å¤æ‚ â†’ æŠ¥å‘Šç”¨æˆ·
        pass
```

#### 6.2.2 FixExecutor (ä¿®å¤æ‰§è¡Œå™¨)

```python
class FixExecutor:
    """ä¿®å¤æ‰§è¡Œå™¨"""

    def __init__(self, git_manager, doc_reader):
        self.git = git_manager
        self.docs = doc_reader
        self.fixers = {
            'config': ConfigFixer(),
            'database': DatabaseFixer(),
            'api': APIFixer(),
            'frontend': FrontendFixer()
        }

    def fix(self, problem):
        """æ‰§è¡Œä¿®å¤"""
        # ç®€å•é—®é¢˜ â†’ ç›´æ¥ä¿®å¤
        if problem.severity == 'simple':
            return self.fix_directly(problem)

        # ä¸­ç­‰é—®é¢˜ â†’ ç”Ÿæˆæ–¹æ¡ˆ
        elif problem.severity == 'medium':
            return self.fix_with_approval(problem)

        # å¤æ‚é—®é¢˜ â†’ æŠ¥å‘Šç”¨æˆ·
        else:
            return self.report_complex(problem)

    def fix_directly(self, problem):
        """ç›´æ¥ä¿®å¤"""
        fixer = self.fixers[problem.category]
        fixer.fix(problem)
        self.git.commit(f"fix({problem.category}): {problem.title}")

    def fix_with_approval(self, problem):
        """ç”Ÿæˆæ–¹æ¡ˆ + ç­‰å¾…ç¡®è®¤"""
        fixer = self.fixers[problem.category]
        solutions = fixer.generate_solutions(problem)

        # è¯¢é—®ç”¨æˆ·é€‰æ‹©
        selected = self.ask_user_selection(solutions)

        # æ‰§è¡Œä¿®å¤
        fixer.apply_solution(problem, selected)
        self.git.commit(f"fix({problem.category}): {problem.title}")
```

#### 6.2.3 GitManager (Git åˆ†æ”¯ç®¡ç†)

```python
class GitManager:
    """Git åˆ†æ”¯ç®¡ç†"""

    def create_fix_branch(self):
        """åˆ›å»ºä¿®å¤åˆ†æ”¯"""
        branch_name = f"auto-fix-{datetime.now().strftime('%Y%m%d-%H%M%S')}"
        self.run_git(f"checkout -b {branch_name}")
        return branch_name

    def commit_fix(self, category, message):
        """æäº¤ä¿®å¤"""
        commit_msg = f"fix({category}): {message}\n\n" \
                    f"ğŸ¤– Auto-generated by Auto-Fix System\n" \
                    f"Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"
        self.run_git("add .")
        self.run_git(f'commit -m "{commit_msg}"')

    def merge_to_main(self):
        """åˆå¹¶åˆ°ä¸»åˆ†æ”¯"""
        current_branch = self.get_current_branch()
        self.run_git("checkout main")
        self.run_git(f"merge {current_branch}")

    def rollback_last_commit(self):
        """å›æ»šæœ€åä¸€æ¬¡æäº¤"""
        self.run_git("reset --hard HEAD~1")
```

---

## 7. æ–‡æ¡£è¯»å–ç­–ç•¥

### 7.1 æ–‡æ¡£ä¼˜å…ˆçº§

```
1. é¡¹ç›®æ ¹æ–‡æ¡£
   â”œâ”€â”€ CLAUDE.md               # é¡¹ç›®è§„èŒƒä¸æ¶æ„
   â”œâ”€â”€ CLAUDE_FULL.md          # å®Œæ•´æ–‡æ¡£
   â””â”€â”€ README.md               # é¡¹ç›®ä»‹ç»

2. æ¨¡å—ç´¢å¼•æ–‡æ¡£
   â”œâ”€â”€ Project/INDEX.md        # é¡¹ç›®æ€»ç´¢å¼•
   â”œâ”€â”€ Project/ShengBeiDjango/INDEX.md
   â””â”€â”€ Project/ShengBeiVue/INDEX.md

3. å­æ¨¡å—æ–‡æ¡£
   â”œâ”€â”€ Project/ShengBeiDjango/pm_robot/INDEX.md
   â”œâ”€â”€ Project/ShengBeiDjango/accounts/INDEX.md
   â””â”€â”€ Project/ShengBeiVue/src/apis/INDEX.md

4. ä»£ç æ³¨é‡Š
   â””â”€â”€ å‡½æ•°/ç±»çš„ docstring
```

### 7.2 æ–‡æ¡£è¯»å–å™¨è®¾è®¡

```python
class DocReader:
    """æ–‡æ¡£è¯»å–å™¨"""

    def __init__(self, project_root):
        self.project_root = Path(project_root)
        self.cache = {}

    def get_module_docs(self, module_path):
        """è·å–æ¨¡å—æ–‡æ¡£"""
        # 1. å°è¯•è¯»å– INDEX.md
        index_path = module_path / "INDEX.md"
        if index_path.exists():
            return self.read_markdown(index_path)

        # 2. å°è¯•è¯»å– README.md
        readme_path = module_path / "README.md"
        if readme_path.exists():
            return self.read_markdown(readme_path)

        # 3. å°è¯•è¯»å– CLAUDE.md
        claude_path = module_path / "CLAUDE.md"
        if claude_path.exists():
            return self.read_markdown(claude_path)

        return None

    def find_api_definition(self, api_path):
        """æŸ¥æ‰¾ API å®šä¹‰"""
        # æœç´¢ urls.py
        urls_files = list(self.project_root.rglob("urls.py"))
        for urls_file in urls_files:
            content = urls_file.read_text()
            if api_path in content:
                return self.parse_url_config(urls_file, api_path)

        return None

    def find_model_definition(self, model_name):
        """æŸ¥æ‰¾æ¨¡å‹å®šä¹‰"""
        # æœç´¢ models.py
        models_files = list(self.project_root.rglob("models.py"))
        for models_file in models_files:
            content = models_file.read_text()
            if f"class {model_name}" in content:
                return self.parse_model(models_file, model_name)

        return None
```

---

## 8. æµ‹è¯•å¾ªç¯è®¾è®¡

### 8.1 ä¸»å¾ªç¯æµç¨‹

```python
def auto_fix_loop(config):
    """è‡ªåŠ¨ä¿®å¤ä¸»å¾ªç¯ (ä¸‰é˜¶æ®µç­–ç•¥)"""

    # 1. åˆ›å»ºä¿®å¤åˆ†æ”¯
    git_manager = GitManager()
    branch_name = git_manager.create_fix_branch()
    print(f"ğŸ”§ åˆ›å»ºä¿®å¤åˆ†æ”¯: {branch_name}")

    # 2. åˆå§‹åŒ–ç»„ä»¶
    analyzer = ProblemAnalyzer()
    executor = FixExecutor(git_manager, DocReader(config.project_root))

    # 3. è¿è¡Œåˆå§‹æµ‹è¯•
    test_results = run_all_tests(config)
    print(f"ğŸ“Š åˆå§‹æµ‹è¯•: {len(test_results.failures)} ä¸ªé—®é¢˜")

    # é˜¶æ®µ 0: é…ç½®ä¿®å¤
    print(f"\n{'='*60}")
    print("  é˜¶æ®µ 0: é…ç½®ä¿®å¤")
    print(f"{'='*60}")

    config_problems = [p for p in test_results.failures if p.category == 'config']
    if config_problems:
        for problem in config_problems:
            executor.fix(problem)
        git_manager.commit_fix('config', f'ä¿®å¤ {len(config_problems)} ä¸ªé…ç½®é—®é¢˜')
        test_results = run_all_tests(config)  # é‡æ–°æµ‹è¯•
    else:
        print("âœ… æ— é…ç½®é—®é¢˜")

    # é˜¶æ®µ 1: åç«¯ä¾èµ–é“¾ä¿®å¤ (æ•°æ®åº“ â†’ API â†’ è®¤è¯)
    print(f"\n{'='*60}")
    print("  é˜¶æ®µ 1: åç«¯ä¾èµ–é“¾ä¿®å¤")
    print(f"{'='*60}")

    # 1.1 æ•°æ®åº“
    db_problems = [p for p in test_results.failures if p.category == 'database']
    if db_problems:
        print(f"\nğŸ“Š ä¿®å¤æ•°æ®åº“é—®é¢˜ ({len(db_problems)} ä¸ª)")
        for problem in db_problems:
            executor.fix(problem)
        git_manager.commit_fix('database', f'ä¿®å¤ {len(db_problems)} ä¸ªæ•°æ®åº“é—®é¢˜')
        test_results = run_all_tests(config)  # é‡æ–°æµ‹è¯• API

    # 1.2 API
    api_problems = [p for p in test_results.failures if p.category == 'api']
    if api_problems:
        print(f"\nğŸ”Œ ä¿®å¤ API é—®é¢˜ ({len(api_problems)} ä¸ª)")
        for problem in api_problems:
            executor.fix(problem)
        git_manager.commit_fix('api', f'ä¿®å¤ {len(api_problems)} ä¸ª API é—®é¢˜')
        test_results = run_all_tests(config)  # é‡æ–°æµ‹è¯•å‰ç«¯

    # 1.3 è®¤è¯
    auth_problems = [p for p in test_results.failures if p.category == 'auth']
    if auth_problems:
        print(f"\nğŸ” ä¿®å¤è®¤è¯é—®é¢˜ ({len(auth_problems)} ä¸ª)")
        for problem in auth_problems:
            executor.fix(problem)
        git_manager.commit_fix('auth', f'ä¿®å¤ {len(auth_problems)} ä¸ªè®¤è¯é—®é¢˜')
        test_results = run_all_tests(config)

    # é˜¶æ®µ 2: å‰ç«¯ä¿®å¤
    print(f"\n{'='*60}")
    print("  é˜¶æ®µ 2: å‰ç«¯ä¿®å¤")
    print(f"{'='*60}")

    frontend_problems = [p for p in test_results.failures if p.category == 'frontend']
    if frontend_problems:
        print(f"\nğŸ¨ ä¿®å¤å‰ç«¯é—®é¢˜ ({len(frontend_problems)} ä¸ª)")
        for problem in frontend_problems:
            executor.fix(problem)
        git_manager.commit_fix('frontend', f'ä¿®å¤ {len(frontend_problems)} ä¸ªå‰ç«¯é—®é¢˜')
        test_results = run_all_tests(config)

    # é˜¶æ®µ 3: é›†æˆæµ‹è¯•
    print(f"\n{'='*60}")
    print("  é˜¶æ®µ 3: é›†æˆæµ‹è¯•")
    print(f"{'='*60}")

    final_results = run_all_tests(config)

    if final_results.all_passed:
        print(f"\nâœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡!")
        git_manager.merge_to_main()
    else:
        print(f"\nâš ï¸  ä»æœ‰ {len(final_results.failures)} ä¸ªé—®é¢˜æœªè§£å†³")
        user_choice = input("æ˜¯å¦ä»è¦åˆå¹¶åˆ°ä¸»åˆ†æ”¯? (y/n): ")

        if user_choice.lower() == 'y':
            git_manager.merge_to_main()
        else:
            print(f"ğŸ’¡ ä¿®å¤åˆ†æ”¯ä¿ç•™: {branch_name}")
            return

    # æ¸…ç†åˆ†æ”¯
    if input("æ˜¯å¦åˆ é™¤ä¿®å¤åˆ†æ”¯? (y/n): ").lower() == 'y':
        git_manager.delete_branch(branch_name)
```

---

## 9. é…ç½®æ–‡ä»¶è®¾è®¡

### 9.1 auto-fix.config.json

```json
{
  "version": "1.0",

  "project": {
    "root": "Project",
    "backendPath": "Project/ShengBeiDjango",
    "frontendPath": "Project/ShengBeiVue"
  },

  "test": {
    "configPath": "test.config.json",
    "reportDir": "test_reports"
  },

  "fix": {
    "autoCommit": true,
    "maxIterations": 10,
    "strategy": "balanced"
  },

  "git": {
    "branchPrefix": "auto-fix",
    "commitAuthor": "Auto-Fix System",
    "autoMerge": true
  },

  "categories": {
    "config": {
      "enabled": true,
      "priority": 0,
      "stage": 0,
      "autoFix": true
    },
    "database": {
      "enabled": true,
      "priority": 1,
      "stage": 1,
      "autoFix": true
    },
    "api": {
      "enabled": true,
      "priority": 2,
      "stage": 1,
      "autoFix": true
    },
    "auth": {
      "enabled": true,
      "priority": 3,
      "stage": 1,
      "autoFix": true
    },
    "frontend": {
      "enabled": true,
      "priority": 4,
      "stage": 2,
      "autoFix": true
    }
  },

  "stages": {
    "0": {
      "name": "é…ç½®ä¿®å¤",
      "categories": ["config"],
      "retest": true
    },
    "1": {
      "name": "åç«¯ä¾èµ–é“¾ä¿®å¤",
      "categories": ["database", "api", "auth"],
      "retest": true,
      "order": ["database", "api", "auth"]
    },
    "2": {
      "name": "å‰ç«¯ä¿®å¤",
      "categories": ["frontend"],
      "retest": true
    },
    "3": {
      "name": "é›†æˆæµ‹è¯•",
      "retest": true
    }
  }
}
```

---

## 10. å®æ–½è®¡åˆ’

### é˜¶æ®µ 1: æ ¸å¿ƒæ¡†æ¶ (ä¼˜å…ˆçº§: é«˜)
- [ ] åˆ›å»ºé¡¹ç›®ç»“æ„
- [ ] å®ç°ä¸»æ§åˆ¶å™¨ (main.py)
- [ ] å®ç°é—®é¢˜åˆ†æå¼•æ“ (problem_analyzer.py)
- [ ] å®ç°ä¿®å¤æ‰§è¡Œå™¨åŸºç±» (fix_executor.py)

### é˜¶æ®µ 2: ä¿®å¤å™¨å®ç° (ä¼˜å…ˆçº§: é«˜)
- [ ] é…ç½®ä¿®å¤å™¨ (config_fixer.py)
- [ ] æ•°æ®åº“ä¿®å¤å™¨ (database_fixer.py)
- [ ] API ä¿®å¤å™¨ (api_fixer.py)
- [ ] å‰ç«¯ä¿®å¤å™¨ (frontend_fixer.py)

### é˜¶æ®µ 3: Git é›†æˆ (ä¼˜å…ˆçº§: ä¸­)
- [ ] Git åˆ†æ”¯ç®¡ç† (git_manager.py)
- [ ] è‡ªåŠ¨æäº¤é€»è¾‘
- [ ] åˆå¹¶ä¸å›æ»š

### é˜¶æ®µ 4: æ–‡æ¡£è¯»å– (ä¼˜å…ˆçº§: ä¸­)
- [ ] æ–‡æ¡£è¯»å–å™¨ (doc_reader.py)
- [ ] API å®šä¹‰æŸ¥æ‰¾
- [ ] æ¨¡å‹å®šä¹‰æŸ¥æ‰¾

### é˜¶æ®µ 5: æµ‹è¯•ä¸ä¼˜åŒ– (ä¼˜å…ˆçº§: ä½)
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–

---

## 11. ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: å®Œæ•´è‡ªåŠ¨ä¿®å¤æµç¨‹ (ä¸‰é˜¶æ®µ)

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd Project

# 2. å¯åŠ¨è‡ªåŠ¨ä¿®å¤ç³»ç»Ÿ
python ../auto-fix-system/core/main.py

# è¾“å‡º:
# ğŸ”§ åˆ›å»ºä¿®å¤åˆ†æ”¯: auto-fix-20260105-143000
# ğŸ“Š åˆå§‹æµ‹è¯•: 15 ä¸ªé—®é¢˜
#
# ============================================================
#   é˜¶æ®µ 0: é…ç½®ä¿®å¤
# ============================================================
#
# ğŸ”§ ä¿®å¤é…ç½®é—®é¢˜ (3 ä¸ª)
#   âœ… ä¿®å¤ MySQL ç«¯å£é…ç½®
#   âœ… ä¿®å¤ Redis è¿æ¥é…ç½®
#   âœ… ä¿®å¤åç«¯ URL é…ç½®
#
# [Git] fix(config): ä¿®å¤ 3 ä¸ªé…ç½®é—®é¢˜
# ğŸ§ª é‡æ–°æµ‹è¯•... 12 ä¸ªé—®é¢˜
#
# ============================================================
#   é˜¶æ®µ 1: åç«¯ä¾èµ–é“¾ä¿®å¤
# ============================================================
#
# ğŸ“Š ä¿®å¤æ•°æ®åº“é—®é¢˜ (2 ä¸ª)
#   âœ… æ·»åŠ ç¼ºå¤±å­—æ®µ wallet_address
#   âœ… æ‰§è¡Œæ•°æ®åº“è¿ç§»
#
# [Git] fix(database): ä¿®å¤ 2 ä¸ªæ•°æ®åº“é—®é¢˜
# ğŸ§ª é‡æ–°æµ‹è¯•... 10 ä¸ªé—®é¢˜
#
# ğŸ”Œ ä¿®å¤ API é—®é¢˜ (5 ä¸ª)
#   âœ… ä¿®å¤ /api/pm-robot/create è·¯ç”±
#   âœ… ä¿®å¤å“åº”å­—æ®µç¼ºå¤±
#   âœ… ä¿®å¤è®¤è¯é€»è¾‘
#   âœ… ä¿®å¤è¯·æ±‚å‚æ•°éªŒè¯
#   âœ… ä¿®å¤ HTTP çŠ¶æ€ç 
#
# [Git] fix(api): ä¿®å¤ 5 ä¸ª API é—®é¢˜
# ğŸ§ª é‡æ–°æµ‹è¯•... 5 ä¸ªé—®é¢˜
#
# ============================================================
#   é˜¶æ®µ 2: å‰ç«¯ä¿®å¤
# ============================================================
#
# ğŸ¨ ä¿®å¤å‰ç«¯é—®é¢˜ (5 ä¸ª)
#   âœ… ä¿®å¤ PMWalletCreateDialog ç»„ä»¶å¯¼å…¥
#   âœ… ä¿®å¤å…ƒç´ é€‰æ‹©å™¨ #wallet-address
#   âœ… ä¿®å¤ API è°ƒç”¨ URL
#   âœ… ä¿®å¤çŠ¶æ€ç®¡ç†é€»è¾‘
#   âœ… ä¿®å¤æ¡ä»¶æ¸²æŸ“
#
# [Git] fix(frontend): ä¿®å¤ 5 ä¸ªå‰ç«¯é—®é¢˜
# ğŸ§ª é‡æ–°æµ‹è¯•...
#
# ============================================================
#   é˜¶æ®µ 3: é›†æˆæµ‹è¯•
# ============================================================
#
# âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡!
# âœ… å·²åˆå¹¶åˆ°ä¸»åˆ†æ”¯
# âœ… å·²åˆ é™¤ä¿®å¤åˆ†æ”¯
```

### ç¤ºä¾‹ 2: ä¸­ç­‰é—®é¢˜ç¡®è®¤

```
ğŸ” é—®é¢˜: API æ¥å£ /api/pm-robot/create è¿”å› 400
   åŸå› : è¯·æ±‚å‚æ•° encrypted_private_key ç¼ºå¤±

ğŸ’¡ ç”Ÿæˆä¿®å¤æ–¹æ¡ˆ:

æ–¹æ¡ˆ 1: ä¿®æ”¹ API è¦æ±‚ï¼Œç§»é™¤å¿…éœ€å‚æ•°
   ä¼˜ç‚¹: å‰ç«¯æ— éœ€æ”¹åŠ¨
   ç¼ºç‚¹: å¯èƒ½å½±å“ä¸šåŠ¡é€»è¾‘
   é£é™©: ä¸­ç­‰

æ–¹æ¡ˆ 2: å‰ç«¯æ·»åŠ  encrypted_private_key å‚æ•°
   ä¼˜ç‚¹: ç¬¦åˆ API è®¾è®¡
   ç¼ºç‚¹: éœ€è¦ç”ŸæˆåŠ å¯†é€»è¾‘
   é£é™©: ä½

æ–¹æ¡ˆ 3: ä¿®æ”¹ä¸ºå¯é€‰å‚æ•°
   ä¼˜ç‚¹: å…¼å®¹æ€§æ›´å¥½
   ç¼ºç‚¹: éœ€è¦å¤„ç†ç©ºå€¼æƒ…å†µ
   é£é™©: ä½

è¯·é€‰æ‹©æ–¹æ¡ˆ (1/2/3) æˆ–è¾“å…¥è‡ªå®šä¹‰æ–¹æ¡ˆ: _
```

---

## 12. æ³¨æ„äº‹é¡¹

### 12.1 å®‰å…¨åŸåˆ™

1. **ç»ä¸åˆ é™¤ä»£ç **: é™¤éç”¨æˆ·æ˜ç¡®ç¡®è®¤
2. **Git å¤‡ä»½**: æ¯æ¬¡ä¿®å¤å‰ç¡®ä¿ Git å·¥ä½œåŒºå¹²å‡€
3. **å¢é‡ä¿®å¤**: ä¿®å¤ä¸€ä¸ªå¤§ç±»æäº¤ä¸€æ¬¡ï¼Œé¿å…å¤§å†²çª
4. **å¯å›æ»š**: ä»»ä½•ä¿®å¤éƒ½å¯ä»¥é€šè¿‡ Git å›æ»š

### 12.2 é™åˆ¶

1. **æ— æ³•ä¿®å¤æ¶æ„é—®é¢˜**: åªèƒ½æŠ¥å‘Šç»™ç”¨æˆ·
2. **æ— æ³•ä¿®å¤ä¸šåŠ¡é€»è¾‘**: éœ€è¦ç”¨æˆ·å†³ç­–
3. **æ— æ³•å®‰è£…æœåŠ¡**: åªèƒ½æç¤ºç”¨æˆ·

---

## 13. æœªæ¥æ‰©å±•

### 13.1 æœºå™¨å­¦ä¹ å¢å¼º

- å­¦ä¹ å†å²ä¿®å¤æ¨¡å¼
- é¢„æµ‹ä¿®å¤æˆåŠŸç‡
- æ™ºèƒ½é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ

### 13.2 è¿œç¨‹æ‰§è¡Œæ”¯æŒ

- æ”¯æŒ SSH è¿œç¨‹æœåŠ¡å™¨ä¿®å¤
- æ”¯æŒ Docker å®¹å™¨ä¿®å¤

### 13.3 å¤šè¯­è¨€æ”¯æŒ

- æ”¯æŒ Django ä»¥å¤–çš„æ¡†æ¶ (Flask, FastAPI)
- æ”¯æŒ Vue ä»¥å¤–çš„æ¡†æ¶ (React, Angular)

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2026-01-05
**ä¸‹ä¸€æ­¥**: å¼€å§‹å®æ–½é˜¶æ®µ 1 (æ ¸å¿ƒæ¡†æ¶)
